import{r as c,_,o as n,c as r,a as e,f as l,g as d,v as u,h,F as m}from"./index.e774e6c3.js";import{a as g}from"./axios.0a901153.js";const p={name:"LoginView",data(){return{loginPostData:{email:"",password:""},LoginChecks:[],registerPostData:{email:"",name:"",password:"",passwordVerify:""},nameChoiceInt:{FirstName:Math.floor(Math.random()*(10-1+1))+1,SecondName:Math.floor(Math.random()*(29129-1+1))+1},RegisterChecks:[],LoginActive:!0,RegisterActive:!1}},methods:{loginDatapost(){g.post("http://127.0.0.1:8000/api/login",this.loginPostData).then(o=>{this.LoginChecks=o.data,this.logInFunction(this.LoginChecks)})},logInFunction(o){sessionStorage.setItem("isAuthLogin",o.isAuth),sessionStorage.setItem("tokenLogin",o.token.token),sessionStorage.setItem("userLogin",o.user),sessionStorage.setItem("reloaded","false"),c.push("/")},registerDataPost(){g.post("http://127.0.0.1:8000/api/register",this.registerPostData).then(o=>{this.RegisterChecks=o.data})},loginRegisterSwitch(o){o=="Login"?(this.LoginActive=!0,this.RegisterActive=!1):o=="Register"&&(this.LoginActive=!1,this.RegisterActive=!0)}},created(){sessionStorage.getItem("reloaded")!=="true"&&(sessionStorage.setItem("reloaded","true"),location.reload())},mounted(){g.post("http://127.0.0.1:8000/api/nameObtain",this.nameChoiceInt).then(o=>{this.registerPostData=o.data}).catch(o=>{console.log(o)})}};const w={key:0,class:"login"},f=e("h1",null,"Login",-1),v={key:0},k=e("p",null,"these records do not match our database",-1),b=[k],y=e("label",null,"Email ",-1),D=e("br",null,null,-1),L=e("label",null,"Wachtwoord ",-1),P=e("br",null,null,-1),R=e("button",null,"Login",-1),C=e("br",null,null,-1),V={key:1,class:"register"},S=e("h1",null,"Register",-1),A={key:0},I=e("p",null,"Dit account bestaat al",-1),F=[I],x=e("label",{for:"email"},"Email ",-1),B=e("br",null,null,-1),M={key:1},U=e("p",null,"Het wachtwoord is niet correct",-1),W=[U],E=e("label",{for:"password"},"Wachtwoord ",-1),N=e("br",null,null,-1),T={key:2},G=e("p",null,"U bent vergeten het wachtwoord in te vullen of het is verkeerd ingevuld",-1),H=[G],O=e("label",{for:"passwordVerify"},"Wachtwoord verifi\xEBren ",-1),j=e("br",null,null,-1),q=e("button",null,"Register",-1),z={key:0},J=e("h2",null,"Account is aangemaakt",-1),K=[J],Q=e("br",null,null,-1);function X(o,t,Y,Z,s,a){return n(),r(m,null,[s.LoginActive?(n(),r("div",w,[e("form",{name:"loginForm",onSubmit:t[2]||(t[2]=h((...i)=>a.loginDatapost&&a.loginDatapost(...i),["prevent"]))},[f,s.LoginChecks.status==="False"?(n(),r("div",v,b)):l("",!0),y,d(e("input",{name:"email",type:"email","onUpdate:modelValue":t[0]||(t[0]=i=>s.loginPostData.email=i)},null,512),[[u,s.loginPostData.email]]),D,L,d(e("input",{name:"password",type:"password","onUpdate:modelValue":t[1]||(t[1]=i=>s.loginPostData.password=i)},null,512),[[u,s.loginPostData.password]]),P,R],32),C,e("button",{class:"loginButtonStyle",onClick:t[3]||(t[3]=i=>a.loginRegisterSwitch("Register"))},"Geen account?")])):l("",!0),s.RegisterActive?(n(),r("div",V,[e("form",{name:"registerForm",onSubmit:t[7]||(t[7]=h((...i)=>a.registerDataPost&&a.registerDataPost(...i),["prevent"]))},[S,s.RegisterChecks.emailWrong==="True"?(n(),r("div",A,F)):l("",!0),x,d(e("input",{name:"email",type:"email","onUpdate:modelValue":t[4]||(t[4]=i=>s.registerPostData.email=i)},null,512),[[u,s.registerPostData.email]]),B,s.RegisterChecks.passwordWrong==="True"?(n(),r("div",M,W)):l("",!0),E,d(e("input",{name:"password",type:"password","onUpdate:modelValue":t[5]||(t[5]=i=>s.registerPostData.password=i)},null,512),[[u,s.registerPostData.password]]),N,s.RegisterChecks.verifyPassword==="False"?(n(),r("div",T,H)):l("",!0),O,d(e("input",{name:"passwordVerify",type:"password","onUpdate:modelValue":t[6]||(t[6]=i=>s.registerPostData.passwordVerify=i)},null,512),[[u,s.registerPostData.passwordVerify]]),j,q],32),s.RegisterChecks.status==="True"?(n(),r("div",z,K)):l("",!0),Q,e("button",{class:"loginButtonStyle",onClick:t[8]||(t[8]=i=>a.loginRegisterSwitch("Login"))},"Al een account?")])):l("",!0)],64)}const te=_(p,[["render",X]]);export{te as default};
